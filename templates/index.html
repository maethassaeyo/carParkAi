<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ðŸš— Parking Monitor</title>
</head>
<body style="text-align:center; background:#111; color:white;">
    <h1>ðŸš˜ Parking Monitor</h1>
    <img src="{{ url_for('video') }}" width="1000" />

    <h2>à¸ˆà¸³à¸™à¸§à¸™à¸£à¸–à¸—à¸µà¹ˆà¸•à¸£à¸§à¸ˆà¸žà¸š: <span id="numcar">0</span></h2>
    <h2>à¹€à¸«à¸¥à¸·à¸­à¸—à¸µà¹ˆà¸ˆà¸­à¸” :<span id="ava">6</span></h2>

    <script>
        async function updateNumcar() {
            try {
                const res = await fetch("/numcar");
                const data = await res.json();
                document.getElementById("numcar").textContent = data.numcar;
                document.getElementById("ava").textContent = 6 - data.numcar;
            } catch (err) {
                console.error(err);
            }
        }
        setInterval(updateNumcar, 1500);
    </script>
</body>
</html>
